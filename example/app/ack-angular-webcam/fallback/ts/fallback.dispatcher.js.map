{"version":3,"sources":["../../../lib/fallback/ts/fallback.dispatcher.ts"],"names":[],"mappings":";;AAsBA;;GAEG;AACH;IAcE,4BAAY,MAAgB;QAC1B,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC;IACpB,CAAC;IAZa,oCAAiB,GAA/B,UAAgC,SAAyB;QACvD,IAAM,GAAG,GAAQ,MAAM,CAAC;QACxB,GAAG,CAAC,MAAM,GAAG;YACX,KAAK,EAAE,SAAS,CAAC,KAAK;YACtB,SAAS,EAAE,SAAS,CAAC,SAAS;YAC9B,MAAM,EAAE,SAAS,CAAC,MAAM;YACxB,MAAM,EAAE,SAAS,CAAC,MAAM;SACzB,CAAC;IACJ,CAAC;IAMD,oCAAO,GAAP,UAAQ,CAAO;QACb,IAAI,CAAC;YACH,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACX,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;IACH,CAAC;IAED,iCAAI,GAAJ,UAAK,CAAO;QACV,IAAI,CAAC;YACH,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACX,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;IACH,CAAC;IAED,sCAAS,GAAT,UAAU,CAAO;QACf,IAAI,CAAC;YACH,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAC/B,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACX,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;IACH,CAAC;IAED,0CAAa,GAAb;QACE,IAAI,CAAC;YACH,MAAM,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;QAC5D,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACX,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;IACH,CAAC;IAED,0CAAa,GAAb;QACE,IAAI,CAAC;YACH,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QAClC,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACX,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;IACH,CAAC;IACH,yBAAC;AAAD,CAzDA,AAyDC,IAAA;AAzDY,gDAAkB","file":"fallback.dispatcher.js","sourceRoot":"","sourcesContent":["/**\n * Action script fallback interface\n */\nexport interface ASCamera {\n  capture: Function;\n  save: Function;\n  setCamera: Function;\n  getCameraList: Function;\n  width: number;\n  height: number;\n}\n\n/**\n * Fallback external interface callback's\n */\nexport interface EventCallbacks {\n  debug: Function;\n  onCapture: Function;\n  onTick: Function;\n  onSave: Function;\n}\n\n/**\n * Adobe flash fallback dispatcher\n */\nexport class FallbackDispatcher {\n\n  private cam: ASCamera;\n\n  public static implementExternal(callbacks: EventCallbacks) {\n    const win = <any>window;\n    win.webcam = {\n      debug: callbacks.debug,\n      onCapture: callbacks.onCapture,\n      onTick: callbacks.onTick,\n      onSave: callbacks.onSave\n    };\n  }\n\n  constructor(camera: ASCamera) {\n    this.cam = camera;\n  }\n\n  capture(x?: any) {\n    try {\n      return this.cam.capture(x);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  save(x?: any) {\n    try {\n      return this.cam.save(x);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  setCamera(x?: any) {\n    try {\n      return this.cam.setCamera(x);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getCameraSize() {\n    try {\n      return { width: this.cam.width, height: this.cam.height };\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getCameraList() {\n    try {\n      return this.cam.getCameraList();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}"]}