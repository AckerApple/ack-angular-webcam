{"version":3,"file":"AckMediaDevices.directive.js","sourceRoot":"","sources":["../src/AckMediaDevices.directive.ts"],"names":[],"mappings":";;AAAA,sCAAkF;AAClF,yCAAqC;;;qBAYT,EAAE;2BACmB,IAAI,mBAAY,EAAE;2BAGrB,IAAI,mBAAY,EAAE;uBACf,IAAI,mBAAY,EAAE;;IAEjE,kCAAQ,GAAR;QACE,IAAI,CAAC,WAAW,EAAE,CAAA;KACnB;IAED,qCAAW,GAAX;QAAA,iBAQC;QAPC,MAAM,CAAC,mBAAO,CAAC,YAAY,CAAC,gBAAgB,EAAE;aAC7C,IAAI,CAAE,UAAA,OAAO,IAAE,OAAA,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,KAAK,GAAC,OAAO,CAAC,EAAzC,CAAyC,CAAE;aAC1D,KAAK,CAAC,UAAA,CAAC;YACN,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;YACpB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,KAAK,GAAC,CAAC,CAAC,CAAA;YACnC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA;SACzB,CAAC,CAAA;KACH;;gBAtBF,gBAAS,SAAC;oBACT,QAAQ,EAAE,mBAAmB;iBAC9B;;;;;0BACE,YAAK;gCACL,aAAM;0BAEN,YAAK;gCACL,aAAM;4BACN,aAAM,SAAC,OAAO;;0BAlBjB;;AAYgB,0CAAe","sourcesContent":["import { Directive, ElementRef, Input, Output, EventEmitter } from '@angular/core'\nimport { browser } from \"./videoHelp\"\n\nexport interface device{\n  deviceId: string\n  kind: \"videoinput\" | \"audioinput\" | string\n  label: string\n  groupId: string\n}\n\n@Directive({\n  selector: 'ack-media-devices'\n}) export class AckMediaDevices {\n  @Input() array:device[] = []\n  @Output() arrayChange:EventEmitter<device[]> = new EventEmitter()\n\n  @Input() error:Error\n  @Output() errorChange:EventEmitter<Error> = new EventEmitter()\n  @Output('catch') catcher:EventEmitter<Error> = new EventEmitter()\n\n  ngOnInit(){\n    this.loadDevices()\n  }\n\n  loadDevices():Promise<device[]>{\n    return browser.mediaDevices.enumerateDevices()\n    .then( devices=>this.arrayChange.emit(this.array=devices) )\n    .catch(e=>{\n      this.catcher.emit(e)\n      this.errorChange.emit(this.error=e)\n      return Promise.reject(e)\n    })\n  }\n}"]}