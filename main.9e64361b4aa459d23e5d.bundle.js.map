{"version":3,"sources":["/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/$_lazy_route_resource lazy","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/app.component.ts","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/app.module.ts","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/app.template.ts","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/index.ts","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/package.json","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/AckMediaDevices.directive.ts","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/index.ts","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/videoHelp.ts","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/webcam.component.ts","/Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/webcam.module.ts"],"names":[],"mappings":"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","file":"main.9e64361b4aa459d23e5d.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../example/app/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/$$_lazy_route_resource lazy\n// module id = ../../../../../example/app/$$_lazy_route_resource lazy recursive\n// module chunks = main","import { Component, ElementRef } from \"@angular/core\"\nimport { WebCamComponent } from \"../../src/\"\nimport { isFacingModeSupported } from \"../../src/videoHelp\"\nimport * as pack from \"../../package.json\"\nimport { string as template } from \"./app.template\"\n\n@Component({\n  selector: 'app-component',\n  template:template\n}) export class AppComponent {\n  isFacingModeSupported = isFacingModeSupported()\n  version = pack[\"version\"]\n  cameras:any[] = []\n  facingModes = [\"user\",\"environment\",\"left\",\"right\"]\n  changeConfig:string\n  captured:any = false\n\n  base64:any\n  error: any;\n  options: any;\n\n  constructor(private element: ElementRef){\n    this.addCamera()\n  }\n\n  addCamera(){\n    this.cameras.push({options:{\n      audio: false,\n      video: {width:{}, height:{}},\n      fallbackSrc: 'fallback/jscam_canvas_only.swf'    \n    }})\n  }\n\n  onSuccess(stream: any){\n    console.log('capturing video stream');\n  }\n\n  captureBase64(webcam:WebCamComponent){\n    return webcam.getBase64()\n    .then(base=>{\n      this.captured = new Date()\n      this.base64 = base\n      setTimeout(()=>webcam.resizeVideo(), 0)\n    })\n    .catch( e=>console.error(e) )\n  }\n\n  getErrorJson(error){\n    const keys = Object.getOwnPropertyNames(error)\n    const ob = {}\n    keys.forEach( key=>ob[key]=error[key] )\n    return ob     \n  }\n\n  logerror(e:Error){\n    console.error(e)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/app.component.ts","import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { WebCamModule } from '../../src/index';\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    WebCamModule\n  ],\n  declarations: [\n    AppComponent\n  ],\n  bootstrap: [ AppComponent ]\n}) export class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/app.module.ts","export const string = \"<!-- devices--><div style=\\\"position:absolute;right:5px;color:#999999;\\\">v{{ version || '0.0.0' }}</div><ng-container *ngIf=\\\"changeConfig\\\"><ack-media-devices [(array)]=\\\"devices\\\" [(videoInputs)]=\\\"videoDevices\\\" [(audioInputs)]=\\\"audioDevices\\\" [(audioOutputs)]=\\\"audioOutputs\\\" [(error)]=\\\"deviceError\\\"></ack-media-devices><table border=\\\"0\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\"><tbody *ngIf=\\\"!deviceError\\\"><tr><td colspan=\\\"3\\\" style=\\\"height:40px;\\\"><div style=\\\"font-weight:bold;font-size:1.3em;\\\">{{ devices?.length }} Devices</div>{{ audioOutputs?.length }} Audio Outputs</td></tr><tr style=\\\"height:40px;\\\"><td valign=\\\"bottom\\\">{{ videoDevices?.length }} Video Inputs</td><td valign=\\\"bottom\\\">{{ audioDevices?.length }} Audio Inputs</td><td>Facing Mode {{ isFacingModeSupported ? 'IS' : 'NOT' }} Supported</td></tr><tr style=\\\"height:40px;\\\"><td><select style=\\\"display:block;width:100%;height:100%;\\\" (change)=\\\"changeConfig.videoDeviceId=$event.target.value\\\"><option>default</option><option *ngFor=\\\"let device of videoDevices;let index=index\\\" [value]=\\\"device.deviceId\\\" [selected]=\\\"changeConfig.videoDeviceId==device.deviceId\\\">{{ device.label || device.kind+'('+index+')' }}</option></select></td><td><select style=\\\"display:block;width:100%;height:100%;\\\" (change)=\\\"changeConfig.audioDeviceId=$event.target.value\\\"><option>default</option><option *ngFor=\\\"let device of audioDevices;let index=index\\\" [value]=\\\"device.deviceId\\\" [selected]=\\\"changeConfig.audioDeviceId==device.deviceId\\\">{{ device.label || device.kind+'('+index+')' }}</option></select></td><td><select style=\\\"display:block;width:100%;height:100%;\\\" (change)=\\\"changeConfig.facingMode=$event.target.value\\\"><option>default</option><option *ngFor=\\\"let item of facingModes;let index=index\\\" [value]=\\\"item\\\" [selected]=\\\"changeConfig.facingMode==item\\\">{{ item }}</option></select></td></tr><tr><td colspan=\\\"3\\\"><textarea style=\\\"padding:.5em;font-size:1em;width:100%;height:100%;min-height:200px;\\\">{{ devices | json }}</textarea></td></tr></tbody><tfoot><tr *ngIf=\\\"deviceError\\\"><td colspan=\\\"3\\\"><textarea readonly=\\\"readonly\\\" style=\\\"padding:.5em;font-size:1em;width:100%;height:100%;color:red;\\\">{{ deviceError.name+'\\r\\r' }}{{ deviceError.message+'\\r\\r' }}{{ deviceError | json }}</textarea></td></tr><tr><td colspan=\\\"3\\\" style=\\\"height:60px;\\\"><button (click)=\\\"changeConfig=null\\\" style=\\\"padding:1em;font-size:1.2em;width:100%;\\\">close</button></td></tr></tfoot></table></ng-container><!-- capture--><table *ngIf=\\\"!changeConfig &amp;&amp; captured\\\" border=\\\"0\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\"><tr><td colspan=\\\"2\\\" valign=\\\"top\\\" style=\\\"overflow:hidden;width:100%;text-align:center;background-position:center;background-size:contain;background-repeat:no-repeat;\\\" [hidden]=\\\"!captured\\\" [style.background-image]=\\\"base64?'url('+base64+')':null\\\">&nbsp;</td></tr><tr *ngIf=\\\"showBase64\\\" style=\\\"height:60px;\\\"><td colspan=\\\"2\\\"><input style=\\\"width:100%;padding:1em;\\\" [attr.value]=\\\"base64\\\" readonly=\\\"readonly\\\"/></td></tr><tr style=\\\"height:60px;\\\"><td><button (click)=\\\"showBase64=!showBase64\\\" style=\\\"padding:1em;font-size:1.2em;width:100%;\\\">{{ showBase64 ? 'Hide':'Show'}} Base64</button></td><td><button (click)=\\\"showBase64=null;captured=null\\\" style=\\\"padding:1em;font-size:1.2em;width:100%;\\\">Close</button></td></tr></table><!-- webcam--><table *ngIf=\\\"!captured\\\" border=\\\"0\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\"><ng-container *ngFor=\\\"let camConfig of cameras; let index=index\\\"><tr *ngIf=\\\"cameras[index].error\\\"><td colspan=\\\"2\\\"><textarea style=\\\"padding:.5em;font-size:1em;width:100%;height:100%;color:red;\\\">{{ cameras[index].error.name+'\\r\\r' }}{{ cameras[index].error.message+'\\r\\r' }}{{ getErrorJson(cameras[index].error) | json }}</textarea></td></tr><tr *ngIf=\\\"!cameras[index].error\\\"><td *ngIf=\\\"!cameras[index].destroy\\\" colspan=\\\"3\\\" valign=\\\"top\\\"><ack-webcam [(ref)]=\\\"cameras[index].webcam\\\" [videoDeviceId]=\\\"cameras[index].videoDeviceId\\\" [facingMode]=\\\"cameras[index].facingMode\\\" [reflect]=\\\"cameras[index].reflect\\\" [(error)]=\\\"cameras[index].error\\\" (errorChange)=\\\"logerror($event)\\\" [options]=\\\"cameras[index].options\\\" (success)=\\\"onSuccess($event)\\\" style=\\\"width:100%;height:100%;display:block;text-align:center;\\\"></ack-webcam></td></tr><tr style=\\\"height:60px;\\\"><td colspan=\\\"3\\\" style=\\\"text-align:center;\\\"><div *ngIf=\\\"cameras[index].resize\\\"><div>width:<input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.width=$event.target.value &amp;&amp; cameras[index].webcam.resize() : null\\\" [placeholder]=\\\"cameras[index].webcam.sets.element.width\\\"/>px\"+\n\"\\n&nbsp;&nbsp;x&nbsp;&nbsp;\"+\n\"\\nheight:<input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.height=$event.target.value &amp;&amp; cameras[index].webcam.resize() : null\\\" [placeholder]=\\\"cameras[index].webcam.sets.element.height\\\"/>px</div><br/><table align=\\\"center\\\"><tr><td></td><td>Video Width</td><td> Video Height</td></tr><tr><td>min:</td><td><input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.video.width.min=$event.target.value &amp;&amp; cameras[index].webcam.redraw() : null\\\"/></td><td><input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.video.width.min=$event.target.value &amp;&amp; cameras[index].webcam.redraw() : null\\\"/></td></tr><tr><td>ideal:</td><td><input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.video.width.ideal=$event.target.value &amp;&amp; cameras[index].webcam.redraw() : null\\\"/></td><td><input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.video.width.ideal=$event.target.value &amp;&amp; cameras[index].webcam.redraw() : null\\\"/></td></tr><tr><td>exact:</td><td><input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.video.width.exact=$event.target.value &amp;&amp; cameras[index].webcam.redraw() : null\\\"/></td><td><input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.video.height.exact=$event.target.value &amp;&amp; cameras[index].webcam.redraw() : null\\\"/></td></tr><tr><td>max:</td><td><input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.video.width.max=$event.target.value &amp;&amp; cameras[index].webcam.redraw() : null\\\"/></td><td><input type=\\\"number\\\" (keyup)=\\\"$event.target.value ? cameras[index].options.video.width.max=$event.target.value &amp;&amp; cameras[index].webcam.redraw() : null\\\"/></td></tr></table></div><button (click)=\\\"cameras[index].reflect=!cameras[index].reflect\\\" style=\\\"padding:.5em;font-size:1.1em;\\\" [style.background-color]=\\\"cameras[index].reflect ? '#999' : null\\\">Reflect{{ cameras[index].reflect ? 'ing' : ''}}</button><button *ngIf=\\\"cameras[index].webcam\\\" (click)=\\\"captureBase64(cameras[index].webcam)\\\" style=\\\"padding:.5em;font-size:1.1em;\\\">Capture</button><button (click)=\\\"cameras.splice(index,1)\\\" style=\\\"padding:.5em;font-size:1.1em;\\\">Destroy</button><button (click)=\\\"changeConfig=camConfig\\\" style=\\\"padding:.5em;font-size:1.1em;\\\">Devices</button><button (click)=\\\"cameras[index].resize=!cameras[index].resize\\\" style=\\\"padding:.5em;font-size:1.1em;\\\" [style.background-color]=\\\"cameras[index].resize ? '#999' : null\\\">Sizing</button><button (click)=\\\"cameras[index].playing=cameras[index].playing?0:1;cameras[index].playing ? cameras[index].webcam.stop() : cameras[index].webcam.play()\\\" style=\\\"padding:.5em;font-size:1.1em;\\\" [style.background-color]=\\\"cameras[index].resize ? '#999' : null\\\">Stop/Starts</button></td><td></td><td></td></tr></ng-container><tr style=\\\"height:60px;\\\"><td colspan=\\\"3\\\"><button (click)=\\\"addCamera()\\\" style=\\\"padding:1em;font-size:1.2em;width:100%;\\\">Add Device</button></td></tr></table>\"\n\n\n// WEBPACK FOOTER //\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/app.template.ts","import 'zone.js'\nimport 'reflect-metadata'\n\n//import { enableProdMode } from \"@angular/core\"\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic'\nimport { AppModule } from './app.module'\n\n//enableProdMode()\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n\n\n\n// WEBPACK FOOTER //\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/example/app/index.ts","module.exports = {\"name\":\"ack-angular-webcam\",\"version\":\"1.9.3\",\"description\":\"Angular webcam component. Based on MediaDevices and getUserMedia.js \",\"main\":\"dist/index.js\",\"typings\":\"dist/index.d.ts\",\"scripts\":{\"build:templates\":\"ack-pug-bundler example/app example/app --outFileExt template.ts --outType ts --oneToOne\",\"start\":\"ack-reload -d example/www -b\",\"test:old\":\"karma start --sr\",\"watch:js\":\"ack-webpack ./example/app/index.ts example/www/index.js --project example/app/tsconfig.json --modules . --watch --browser\",\"watch:dist\":\"watch \\\"npm-run-all build:dist\\\" src/\",\"watch\":\"npm-run-all --parallel watch:dist watch:js watch:templates\",\"watch:templates\":\"npm run build:templates -- --watch\",\"build:dist\":\"ngc --declaration --project src\",\"ack-webpack\":\"ack-webpack\",\"build\":\"npm-run-all build:templates compile:dist:package build:dist build:js\",\"build:js\":\"node --max-old-space-size=8192 ./node_modules/.bin/ng build --app=example --sourcemaps=true --output-hashing=all\",\"compile:dist:package\":\"node scripts/update-dist-package.js\",\"test\":\"ng test --browser PhantomJS --single-run\",\"test:watch\":\"ng test\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/ackerapple/ack-angular-webcam.git\"},\"keywords\":[\"ng2\",\"Angular\",\"getusermedia\",\"webcam\",\"video\",\"gum\"],\"author\":\"Akcer Apple\",\"licenses\":[{\"type\":\"MIT\"}],\"devDependencies\":{\"@angular/cli\":\"^1.6.3\",\"@angular/common\":\"^5.1.2\",\"@angular/compiler\":\"^5.1.2\",\"@angular/compiler-cli\":\"^5.1.2\",\"@angular/core\":\"^5.1.2\",\"@angular/platform-browser\":\"^5.1.2\",\"@angular/platform-browser-dynamic\":\"^5.1.2\",\"@types/jasmine\":\"^2.8.3\",\"ack-pug-bundler\":\"^1.3.15\",\"ack-webpack\":\"^1.2.1\",\"classlist-polyfill\":\"^1.2.0\",\"core-js\":\"^2.5.3\",\"jasmine\":\"^2.8.0\",\"karma\":\"^2.0.0\",\"karma-chrome-launcher\":\"^2.2.0\",\"karma-coverage-istanbul-reporter\":\"^1.3.3\",\"karma-jasmine\":\"^1.1.1\",\"karma-jasmine-html-reporter\":\"^0.2.2\",\"karma-phantomjs-launcher\":\"^1.0.4\",\"minimatch\":\"^3.0.4\",\"npm-run-all\":\"^4.1.2\",\"phantomjs-prebuilt\":\"^2.1.16\",\"reflect-metadata\":\"^0.1.10\",\"rxjs\":\"^5.5.6\",\"ts-helpers\":\"^1.1.2\",\"ts-loader\":\"^3.2.0\",\"typescript\":\"2.4.2\",\"webpack\":\"^3.10.0\",\"webpack-merge\":\"^4.1.1\",\"zone.js\":\"^0.8.19\"},\"bugs\":{\"url\":\"https://github.com/ackerapple/ack-angular-webcam/issues\"},\"homepage\":\"https://github.com/ackerapple/ack-angular-webcam#readme\",\"directories\":{\"example\":\"example\"},\"license\":\"MIT\",\"private\":true,\"scriptsInfo\":{\"test\":\"Tests angular app using karama and jasmine\",\"test:watch\":\"Opens local browser to test angular app\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/package.json\n// module id = ../../../../../package.json\n// module chunks = main","import { Directive, ElementRef, Input, Output, EventEmitter } from '@angular/core'\nimport {\n  audioInputsByDevices,\n  audioOutputsByDevices,\n  videoInputsByDevices,\n  //MediaDevice,\n  browser,\n  promiseDevices\n} from \"./videoHelp\"\n\n@Directive({\n  selector: 'ack-media-devices'\n}) export class AckMediaDevices {\n  @Input() array:MediaDeviceInfo[] = []\n  @Output() arrayChange:EventEmitter<MediaDeviceInfo[]> = new EventEmitter()\n\n  @Input() error:Error\n  @Output() errorChange:EventEmitter<Error> = new EventEmitter()\n  @Output('catch') catcher:EventEmitter<Error> = new EventEmitter()\n\n  @Input() videoInputs:MediaDeviceInfo[]\n  @Output() videoInputsChange:EventEmitter<MediaDeviceInfo[]> = new EventEmitter()\n\n  @Input() audioInputs:MediaDeviceInfo[]\n  @Output() audioInputsChange:EventEmitter<MediaDeviceInfo[]> = new EventEmitter()\n\n  @Input() audioOutputs:MediaDeviceInfo[]\n  @Output() audioOutputsChange:EventEmitter<MediaDeviceInfo[]> = new EventEmitter()\n\n  ngOnInit(){\n    this.loadDevices()\n  }\n\n  loadDevices():Promise<MediaDeviceInfo[]>{\n    return promiseDevices()\n    .then(devices=>this.onDevices(devices) && devices)\n    .catch(e=>{\n      this.catcher.emit(e)\n      this.errorChange.emit(this.error=e)\n      return Promise.reject(e)\n    })\n  }\n\n  onDevices(devices:MediaDeviceInfo[]):AckMediaDevices{\n    this.arrayChange.emit(this.array=devices)\n    \n    if(this.audioInputsChange.observers.length){\n      this.audioInputs = audioInputsByDevices(devices)\n      this.audioInputsChange.emit(this.audioInputs)\n    }\n    \n    if(this.audioOutputsChange.observers.length){\n      this.audioOutputs = audioOutputsByDevices(devices)\n      this.audioOutputsChange.emit(this.audioOutputs)\n    }\n\n    if(this.videoInputsChange.observers.length){\n      this.videoInputs = videoInputsByDevices(devices)\n      this.videoInputsChange.emit(this.videoInputs)\n    }\n\n    return this\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/AckMediaDevices.directive.ts","import { WebCamComponent } from './webcam.component';\nimport { WebCamModule } from './webcam.module';\n\n/**\n * @module\n * @description\n * Entry point from which you should import webcam component\n */\nexport {\n  WebCamComponent,\n  WebCamModule\n}\n\n\n// WEBPACK FOOTER //\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/index.ts","import { EventEmitter } from \"@angular/core\"\n\nexport const browser = <any>navigator\nexport function getMedia(){\n  return browser.getUserMedia\n  || browser.webkitGetUserMedia\n  || browser.mozGetUserMedia\n  || browser.msGetUserMedia\n}\n\n/**\n * Component options structure interface\n */\nexport interface Options {\n  video: boolean | MediaTrackConstraints\n  audio: boolean\n  width: number\n  height: number\n  fallback:boolean\n  fallbackSrc: string\n  fallbackMode: string\n  fallbackQuality: number\n}\n\nexport interface VideoObject{\n  capture:Function,\n  save:Function,\n  appendChild:Function\n  classid?:string,\n  data?:{}\n}\n\nexport interface Canvas{\n  toDataURL:Function,\n  getContext:Function,\n  width,\n  height\n}\n\n/*\nexport interface MediaDevice{\n  deviceId: string\n  kind: \"videoinput\" | \"audioinput\" | string\n  label: string\n  groupId: string\n}*/\n\n\nexport function dataUriToBlob(dataURI) {\n  // convert base64/URLEncoded data component to raw binary data held in a string\n  var byteString;\n  if (dataURI.split(',')[0].indexOf('base64') >= 0){\n    byteString = atob(dataURI.split(',')[1]);\n  }else{\n    byteString = window['unescape'](dataURI.split(',')[1]);\n  }\n\n  // separate out the mime component\n  var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n  // write the bytes of the string to a typed array\n  var ia = new Uint8Array(byteString.length);\n  for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n  }\n\n  return new Blob([ia], {type:mimeString});\n}\n\n/** single image to transmittable resource */\nexport function dataUriToFormData(\n  dataURI,\n  options?:{fileName?:string, form?:FormData}\n){\n  options = options || {}\n  options.form = options.form || new FormData()\n  options.form.append('file', dataUriToBlob(dataURI), options.fileName||'file.jpg');\n  return options.form\n}\n\nexport function drawImageArrayToCanvas( imgArray:string[] ):Canvas{\n  const canvas = document.createElement('canvas')\n\n  // const di = this.getVideoDimensions()\n  const ctx = canvas.getContext('2d');\n  const width = imgArray[0].split(';').length\n  const height = imgArray.length\n  canvas.width = width\n  canvas.height = height\n  ctx.clearRect(0, 0, width, height);\n\n  const externData = {\n    imgData: ctx.getImageData(0, 0, width, height),\n    pos: 0\n  };\n\n  let tmp = null;\n  for(let x=0; x < imgArray.length; ++x){\n    let col = imgArray[x].split(';')\n    for (let i = 0; i < width; i++) {\n      tmp = parseInt(col[i], 10);\n      externData.imgData.data[externData.pos + 0] = (tmp >> 16) & 0xff;\n      externData.imgData.data[externData.pos + 1] = (tmp >> 8) & 0xff;\n      externData.imgData.data[externData.pos + 2] = tmp & 0xff;\n      externData.imgData.data[externData.pos + 3] = 0xff;\n      externData.pos += 4;\n    }\n\n    /*if (externData.pos >= 4 * width * height) {\n      ctx.putImageData(externData.imgData, 0, 0);\n      externData.pos = 0;\n    }*/\n  }\n\n  ctx.putImageData(externData.imgData, 0, 0);\n\n  return canvas\n}\n\nexport class Fallback{\n  debug:Function\n  onCapture:Function\n  onSave:Function\n  videoObject:VideoObject\n  onImage = new EventEmitter()\n  \n  constructor(videoObject:VideoObject){\n    this.videoObject = videoObject\n    const dataImgArray = []\n\n    //method intended to live within window memory\n    this.debug = (tag, message)=>{\n      if(tag=='notify' && message=='Capturing finished.'){\n        this.onImage.emit( drawImageArrayToCanvas(dataImgArray) )\n      }\n    }\n\n    //method intended to live within window memory\n    this.onCapture = ()=>{\n      dataImgArray.length = 0\n      videoObject.save()\n    }\n\n    //method intended to live within window memory\n    this.onSave = (data) => {\n      dataImgArray.push(data)\n    }\n\n    //Flash swf file expects window.webcam to exist as communication bridge\n    window['webcam'] = this\n  }\n\n\n  captureToCanvas():Promise<Canvas>{\n    return new Promise((res,rej)=>{\n      const subscription = this.onImage.subscribe(img=>{\n        res(img)\n        subscription.unsubscribe()\n      })\n      this.videoObject.capture()\n    })\n  }\n\n  captureBase64(mime?):Promise<string>{\n    return this.captureToCanvas()\n    .then( (canvas:Canvas)=>canvas.toDataURL(mime || 'image/jpeg') )\n  }\n\n  /**\n   * Add <param>'s into fallback object\n   * @param cam - Flash web camera instance\n   * @returns {void}\n   */\n  addFallbackParams(options:Options): any {\n    const paramFlashVars = document.createElement('param');\n    paramFlashVars.name = 'FlashVars';\n    paramFlashVars.value = 'mode=' + options.fallbackMode + '&amp;quality=' + options.fallbackQuality;\n    this.videoObject.appendChild(paramFlashVars);\n\n    const paramAllowScriptAccess = document.createElement('param');\n    paramAllowScriptAccess.name = 'allowScriptAccess';\n    paramAllowScriptAccess.value = 'always';\n    this.videoObject.appendChild(paramAllowScriptAccess);\n\n    //is this even needed?\n    this.videoObject.classid = 'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000';\n    \n    const paramMovie = document.createElement('param');\n    paramMovie.name = 'movie';\n    paramMovie.value = options.fallbackSrc;\n    this.videoObject.appendChild(paramMovie);\n    this.videoObject.data = options.fallbackSrc;\n  }\n}\n\nexport function videoInputsByDevices(devices:MediaDeviceInfo[]):MediaDeviceInfo[]{\n  return devicesByKind(devices,'videoinput')\n}\n\nexport function audioInputsByDevices(devices:MediaDeviceInfo[]):MediaDeviceInfo[]{\n  return devicesByKind(devices,'audioinput')\n}\n\nexport function audioOutputsByDevices(devices:MediaDeviceInfo[]):MediaDeviceInfo[]{\n  return devicesByKind(devices,'audiooutput')\n}\n\nexport function devicesByKind(devices:MediaDeviceInfo[], kind:string):MediaDeviceInfo[]{\n  return devices.filter(device=>device.kind===kind)\n}\n\nexport function promiseDeviceById(id:string):Promise<MediaDeviceInfo> {\n  return promiseDevices().then( devices=>devices.find(device=>device.deviceId==id) )\n}\n\nexport function promiseDevices():Promise<MediaDeviceInfo[]> {\n  //const x:Promise<MediaDeviceInfo[]> = browser.mediaDevices.enumerateDevices().then( devices=>devices )\n  return browser.mediaDevices.enumerateDevices()\n}\n\nexport function isFacingModeSupported():boolean{\n  if(!browser.mediaDevices)return false\n  const contraints = browser.mediaDevices.getSupportedConstraints()\n  return contraints.facingMode\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/videoHelp.ts","import { Component, ElementRef, Input, Output, EventEmitter } from '@angular/core'\nimport { DomSanitizer } from '@angular/platform-browser'\nimport {\n  browser,\n  getMedia,\n  Options,\n  dataUriToFormData,\n  videoInputsByDevices,\n  Fallback,\n  //MediaDevice,\n  promiseDevices,\n  promiseDeviceById\n} from \"./videoHelp\"\n\nconst template = `<video id=\"video\" *ngIf=\"(isSupportUserMedia||isSupportWebRTC)\" autoplay=\"\" playsinline=\"\">Video stream not available</video>`\n\nexport interface vidElmOptions{\n  audio: boolean | MediaTrackConstraints\n  video: boolean | MediaTrackConstraints\n}\n\nexport interface elementSets{\n  width:number\n  height:number\n}\n\nexport interface sets{\n  element:elementSets\n}\n\n@Component({\n  selector: 'ack-webcam',\n  template: template,\n  exportAs: 'webcam'\n}) export class WebCamComponent {\n  /* platform support variables */\n    flashPlayer:Fallback\n    isSupportUserMedia: boolean = false\n    isSupportWebRTC: boolean = false\n    isFallback: boolean = false\n  /* end: platform support variables */\n  \n  initComplete:boolean\n  observer:MutationObserver\n  onResize:()=>any\n  stream:MediaStream\n\n  sets:sets = {element:{width:0,height:0}}\n\n  @Input() videoDevice:MediaDeviceInfo\n  @Input() videoDeviceId:string\n  //@Input() audioDeviceId:string\n  \n  @Input() reflect:boolean//mirror camera image\n  @Input() facingMode:\"user\"|\"environment\"|\"left\"|\"right\"|string\n  @Input() mime = 'image/jpeg'\n  @Input() useParentWidthHeight:boolean = false\n  \n  @Input() options: Options\n  @Output() success = new EventEmitter()\n\n  //-Lazy @ViewChild() variable reference\n  @Input() ref:WebCamComponent\n  @Output() refChange:EventEmitter<WebCamComponent> = new EventEmitter()\n  \n  @Input() error:Error\n  @Output() errorChange:EventEmitter<Error> = new EventEmitter()\n  @Output('catch') catcher:EventEmitter<Error> = new EventEmitter()\n\n  constructor(private sanitizer: DomSanitizer, private element: ElementRef){}\n\n  ngOnInit(){\n    this.isSupportUserMedia = getMedia()!=null ? true : false\n    this.isSupportUserMedia = false\n    this.isSupportWebRTC = !!(browser.mediaDevices && browser.mediaDevices.getUserMedia)\n  }\n\n  ngAfterViewInit(){\n    this.applyDefaults()\n    setTimeout(()=>this.afterInitCycles(), 0)\n  }\n\n  ngOnChanges( changes ) {\n    if( !this.initComplete )return\n\n    if(\n      changes.facingMode\n    || changes.videoDevice\n    || changes.videoDeviceId\n    ){\n      this.redraw()//restart\n    }\n\n    if( changes.reflect ){\n      this.applyReflect()\n    }\n  }\n\n  ngOnDestroy(){\n    this.observer.disconnect()\n    window.removeEventListener('resize', this.onResize)\n    this.stop()\n  }\n\n  play(){\n    return this.redraw()\n  }\n\n  stop(){\n    const vid = this.getVideoElm()\n    if(vid && vid.pause){\n      vid.pause()\n    }\n\n    if( this.stream ){\n      this.stream.getTracks().forEach(track=>track.stop())\n    }\n  }\n\n  redraw(){\n    this.stop()\n    this.startCapturingVideo()\n  }\n\n  afterInitCycles(){\n    const media = getMedia()\n\n    // Older browsers might not implement mediaDevices at all, so we set an empty object first\n    if ((browser.mediaDevices === undefined) && !!media) {\n      browser.mediaDevices = {}\n    }\n\n    // Some browsers partially implement mediaDevices. We can't just assign an object\n    // with getUserMedia as it would overwrite existing properties.\n    // Here, we will just add the getUserMedia property if it's missing.\n    const getUserMediaUndefined = (browser.mediaDevices && browser.mediaDevices.getUserMedia === undefined) && !!media\n    if( getUserMediaUndefined ){\n      browser.mediaDevices.getUserMedia = constraints=>{\n        return new Promise((resolve, reject)=>{\n          const userMedia = media.call(browser, constraints, resolve, reject)\n\n          if( userMedia.then ){\n            userMedia.then( stream=>this.applyStream(stream) )\n          }\n        })\n        .catch( err=>this.catchError(err) )\n      }\n    }\n\n    this.initComplete = true\n    \n    //deprecated. Use angular hash template referencing and @ViewChild\n    setTimeout(()=>this.refChange.emit(this), 0)\n\n    this.createVideoResizer()\n    \n    this.startCapturingVideo()\n    .then( ()=>setTimeout(()=>this.resize(), 10) )\n    .catch( err=>this.catchError(err) )\n  }\n\n  applyReflect(){\n    const videoElm = this.getVideoElm()\n\n    if(!videoElm)return\n\n    if( this.reflect ){\n      videoElm.style.transform = \"scaleX(-1)\"\n    }else{\n      videoElm.style.transform = \"scaleX(1)\"\n    }\n  }\n\n  applyStream(stream){\n    const videoElm = this.getVideoElm()\n    videoElm.srcObject = stream\n    this.applyReflect()\n  }\n\n  createVideoResizer(){\n    this.observer = new MutationObserver( ()=>this.resize() )\n    \n    const config = {\n      attributes: true,\n      childList: true,\n      characterData: true\n      //,subtree: true\n    }\n    this.observer.observe(this.element.nativeElement, config)\n\n    this.onResize = ()=>this.resize()\n    window.addEventListener('resize', this.onResize)\n  }\n\n  applyDefaults(){\n    this.options = this.options || <Options>{}\n    this.options.fallbackSrc = this.options.fallbackSrc || 'jscam_canvas_only.swf'\n    this.options.fallbackMode = this.options.fallbackMode || 'callback'\n    this.options.fallbackQuality = this.options.fallbackQuality || 200\n    this.isFallback = this.options.fallback || (!this.isSupportUserMedia && !this.isSupportWebRTC && this.options.fallbackSrc) ? true : false\n\n    if(!this.options.video && !this.options.audio){\n      this.options.video = true\n    }\n  }\n\n  onWebRTC(): Promise<MediaStream> {\n    let promise:Promise<MediaDeviceInfo> = Promise.resolve(null)\n\n    return this.promiseVideoOptions()\n    .then( options=>{\n      this.options.video = options\n      return this.setWebcam(this.options)\n    })\n  }\n\n  promiseVideoOptions():Promise<MediaTrackConstraints>{\n    let promise = Promise.resolve()\n\n    const videoOptions:MediaTrackConstraints = {}\n    \n    if(this.options.video && typeof(this.options.video)==='object'){\n      Object.assign(videoOptions, this.options.video)\n    }\n\n    if( this.facingMode ){\n      videoOptions.facingMode = this.facingMode//{exact:this.facingMode}\n    }\n\n    if( this.videoDeviceId ){\n      //videoOptions.deviceId = {exact:this.videoDeviceId}\n      videoOptions.deviceId = this.videoDeviceId\n    }else if( this.videoDevice ){\n      //videoOptions.deviceId = {exact:this.videoDevice.deviceId}\n      videoOptions.deviceId = this.videoDevice.deviceId\n    }\n\n\n    return promise.then( ()=>videoOptions )\n  }\n\n  //old method name (deprecated)\n  resizeVideo(maxAttempts=4){\n    return this.resize(maxAttempts)\n  }\n\n  resize(maxAttempts=4){\n    const video = this.getVideoElm()\n    \n    if(!video)return\n\n    video.style.position='absolute'\n    \n    const elm = this.useParentWidthHeight ? this.element.nativeElement.parentNode : this.element.nativeElement\n\n    let width = this.options.width || parseInt(elm.offsetWidth, 10)\n    let height = this.options.height || parseInt(elm.offsetHeight, 10)\n\n    if(!width || !height){\n      width = 320\n      height = 240\n    }\n\n    setTimeout(()=>{\n      video.width = width\n      video.height = height\n      \n      this.sets.element.width = width\n      this.sets.element.height = height\n      \n      video.style.position='static'\n  \n      //now that we set a width and height, it may need another adjustment if it pushed percent based items around\n      const resizeAgain = (!this.options.width && width!=parseInt(elm.offsetWidth, 10)) || (!this.options.height && height!=parseInt(elm.offsetHeight, 10))\n  \n      if( resizeAgain && maxAttempts){\n        this.resize( --maxAttempts )\n      }\n    }, 1)\n  }\n\n  getVideoDimensions(video){\n    video = video || this.getVideoElm()\n    const dim = {width:0, height:0}\n\n    if(video.videoWidth){\n      dim.width = video.videoWidth\n      dim.height = video.videoHeight\n    }else{\n      dim.width = this.options.width || parseInt(this.element.nativeElement.offsetWidth, 10)\n      dim.height = this.options.height || parseInt(this.element.nativeElement.offsetHeight, 10)\n    }\n\n    if(!dim.width)dim.width = 320\n    if(!dim.height)dim.height = 240\n\n    return dim\n  }\n\n  getVideoElm(){\n    const native = this.element.nativeElement\n    const elmType = this.isFallback ? 'object' : 'video'\n    return native.getElementsByTagName(elmType)[0]\n  }\n\n  setWebcam(options:Options): Promise<MediaStream> {\n    return this.promiseStreamByVidOptions(options)\n    .then(stream=>{\n      this.applyStream(stream)\n      this.processSuccess(stream)\n      this.stream = stream\n      return stream\n    })\n    .catch( err=>this.catchError(err) )\n  }\n\n  catchError(err:Error):Promise<any>{\n    this.errorChange.emit(this.error=err)\n    this.catcher.emit(err)\n\n    if( !this.errorChange.observers.length && !this.catcher.observers.length ){\n      return Promise.reject(err)//if no error subscriptions promise need to continue to be Uncaught\n    }\n  }\n\n  promiseStreamByVidOptions(\n    optionObject:vidElmOptions\n  ):Promise<MediaStream>{\n    return new Promise((resolve, reject) => {\n      try {\n        browser.mediaDevices.getUserMedia(optionObject)\n        .then(stream=>resolve(stream))\n        .catch((objErr:any)=>reject(objErr))\n      } catch (e) {\n        reject(e)\n      }\n    })\n  }\n\n  processSuccess(stream?){\n    if (this.isFallback) {\n      this.setupFallback()\n    }else{\n      this.success.emit(stream)\n    }\n  }\n\n  /**\n   * Start capturing video stream\n   * @returns {void}\n   */\n  startCapturingVideo(): Promise<any> {\n    if (!this.isFallback && this.isSupportWebRTC) {\n      return this.onWebRTC()\n    }\n\n    return Promise.resolve( this.processSuccess() )\n  }\n\n  getCanvas(){\n    return document.createElement('canvas')\n  }\n\n  /** returns promise . @mime - null=png . Also accepts image/jpeg */\n  getBase64(mime?){\n    if(this.isFallback){\n      return this.flashPlayer.captureBase64(mime||this.mime)\n      //return this.getFallbackBase64(mime)\n    }else{\n      const canvas = this.getCanvas()\n      const video = this.getVideoElm()\n      this.setCanvasWidth(canvas, video)\n      const ctx = canvas.getContext('2d')\n\n      if( this.reflect ){\n        ctx.translate(canvas.width, 0);\n        ctx.scale(-1, 1);\n      }\n\n      ctx.drawImage(video, 0, 0)\n      return Promise.resolve( canvas.toDataURL(mime) )\n    }\n  }\n\n  setCanvasWidth(canvas?, video?){\n    const di = this.getVideoDimensions(video)\n    canvas = canvas || this.getCanvas()\n    canvas.width = di.width\n    canvas.height = di.height\n  }\n\n  /** older browsers (IE11) cannot dynamically apply most attribute changes to object elements. Use this method during fallback */\n  createVidElmOb(){\n    const rtnElm = document.createElement('object')\n    rtnElm.innerHTML = 'Video stream not available'\n    rtnElm.setAttribute('type','application/x-shockwave-flash')\n    rtnElm.setAttribute('data',this.options.fallbackSrc)\n\n    let paramVar = document.createElement('param')\n    paramVar.setAttribute('name','FlashVars')\n    paramVar.setAttribute('value','mode=callback&amp;quality=200')\n    rtnElm.appendChild( paramVar )\n\n    paramVar = document.createElement('param')\n    paramVar.setAttribute('name','allowScriptAccess')\n    paramVar.setAttribute('value','always')\n    rtnElm.appendChild( paramVar )\n\n    paramVar = document.createElement('param')\n    paramVar.setAttribute('name','movie')\n    paramVar.setAttribute('value',this.options.fallbackSrc)\n    rtnElm.appendChild( paramVar )\n\n    const obs = this.element.nativeElement.getElementsByTagName('object')\n    if(obs.length){\n      this.element.nativeElement.removeChild( obs[0] )\n    }\n\n    this.element.nativeElement.appendChild( rtnElm )\n\n    return rtnElm\n  }\n\n  setupFallback(): void {\n    this.isFallback = true\n    const vidElm = this.getVideoElm() || this.createVidElmOb()\n    this.flashPlayer = new Fallback( vidElm )\n  }\n\n  /** single image to FormData */\n  captureAsFormData(options?:{mime?:string, fileName?:string, form?:FormData}){\n    options = options || {}\n    return this.getBase64(options.mime)\n    .then( base64=>dataUriToFormData(base64, {fileName:options.fileName}) )\n  }\n\n  dataUriToFormData(base64, options){\n    return dataUriToFormData(base64, {fileName:options.fileName})\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/webcam.component.ts","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { WebCamComponent } from './webcam.component';\nimport { AckMediaDevices } from './AckMediaDevices.directive';\n\nconst declarations = [\n  WebCamComponent,\n  AckMediaDevices\n]\n\n@NgModule({\n  imports: [ CommonModule ],\n  declarations: declarations,\n  exports: declarations\n}) export class WebCamModule {}\n\n\n// WEBPACK FOOTER //\n// /Users/adminapple/projects/Ack/browser/ Angular/ack-angular-webcam/master/src/webcam.module.ts"],"sourceRoot":"webpack:///"}